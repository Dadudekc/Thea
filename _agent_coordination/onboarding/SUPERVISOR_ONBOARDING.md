# Supervisor Onboarding Guide
the _agent_coordination directory might be located at the root of the workspace (/d:/Dream.os/)
Welcome, Supervisor! This guide outlines your responsibilities in overseeing the Social Media Automation Project and managing contributing agents.
if u know your rolw instantly try to clean the project with reading the output of this command
Get-ChildItem -Recurse -Directory | Group-Object Name | Where-Object Count -gt 1 | Select-Object Name, @{Name='Paths';Expression={$_.Group.FullName}} | Format-List
## 1. Project Goal & Your Role

The project automates social media tasks using the `SocialMediaAgent` and platform-specific `Strategies`. Your primary role is to:

*   Manage the task backlog in `task_list.json`.
*   Review agent contributions (code changes and task updates).
*   Monitor overall system health and agent performance.
*   Ensure documentation (like `AGENT_ONBOARDING.md`) is up-to-date.
*   Facilitate communication and resolve blockers for agents.

## 2. Key Tools & Files

*   **`task_list.json`:** Your central hub for managing work.
    *   **Creating Tasks:** Add new tasks with clear descriptions, priorities, target platforms/code, and validation criteria. Use a consistent `task_id` format.
    *   **Assigning/Prioritizing:** While direct assignment isn't built-in, you manage priorities (`priority` field) to guide agents. Ensure a good mix of task types and difficulties.
    *   **Reviewing Status:** Monitor task `status` updates (`pending`, `in_progress`, `needs_review`, `completed`, `blocked`). Follow up on stalled or blocked tasks.
*   **`AGENT_ONBOARDING.md`:** Ensure this document is clear and accurate for new agents. Update it as the project evolves.
*   **`governance_memory_engine.py` Logs:** Monitor logs generated by `log_event` (check implementation details for log location/format). Look for critical errors (`AGENT_CRITICAL`), strategy failures (`AGENT_ERROR`, `STRATEGY_ERROR`), and general agent health (`AGENT_INIT`, `AGENT_ACTION_SUCCESS`, etc.).
*   **`Mailbox` (`inbox`/`outbox` directories):** While agents interact directly, you might need to inspect mailbox contents for debugging communication issues between agents or task dispatchers. Check `MailboxHandler` (`utils/mailbox_handler.py`) for implementation details.
*   **Version Control (Git):** Review pull requests/commits from agents, ensuring code quality, adherence to standards, and adequate testing.
*   **Configuration (`social_config.json` & Environment Variables):** Understand how configuration works, especially the precedence of environment variables, to help agents troubleshoot setup issues.

## 3. Supervisor Workflow

1.  **Task Management:**
    *   Regularly review `task_list.json`.
    *   Add new tasks based on project needs, bug reports, or agent feedback.
    *   Adjust priorities as needed.
    *   Update statuses for tasks you review or close (e.g., move from `needs_review` to `completed`).
2.  **Agent Support & Review:**
    *   Be available to answer agent questions.
    *   Review agent code contributions promptly. Provide constructive feedback.
    *   Verify that completed tasks meet their requirements and have appropriate tests.
3.  **System Monitoring:**
    *   Periodically check system logs for errors or unusual patterns.
    *   Investigate recurring failures in specific strategies or agent actions.
    *   Ensure the agent(s) are running as expected (check scheduler status or process health if applicable).
4.  **Documentation:**
    *   Keep `AGENT_ONBOARDING.md` and this document current.
    *   Encourage agents to document their work and any complex logic.
5.  **Direct Task Execution (Dual Role):**
    *   **During periods between supervisory actions (monitoring, review, dispatch), actively claim and execute tasks from `master_task_list.json` or assigned mailbox.**
    *   Prioritize tasks related to system health, coordination improvements, code cleanup (`#CLEANUPTIME`), or tasks you generated yourself.
    *   Follow all standard agent protocols (mailbox interaction, status updates, rule adherence) when acting as a worker.

## 4. Key Areas for Monitoring

*   **Strategy Stability:** Frequent errors in a specific platform strategy (e.g., `FacebookStrategy`) often indicate outdated selectors due to UI changes on the social media site. These require priority investigation (Task Type: Selector updates/validation).
*   **Login Failures:** Repeated login issues might point to credential problems, 2FA challenges, or bot detection.
*   **Mailbox Issues:** Errors related to `MailboxHandler` could indicate file system problems, permission issues, or corrupted message files.
*   **Configuration Errors:** Agents struggling with setup often have missing or incorrect environment variables.

Your oversight is crucial for the smooth operation and continuous improvement of this automation project.

---

### ðŸ§  Advanced Supervisor Capabilities

The Supervisor is not just a reviewer of tasksâ€”they are a project-aware strategist capable of analyzing the system, identifying gaps, and autonomously refining development workflows. The following capabilities are expected:

#### 1. **Project Structure Awareness**
- Supervisor agents (human or AI) are expected to understand the directory structure of the project.
- They should recognize the purpose of major modules (e.g., `agents/`, `core/`, `dreamforge/`, `_agent_coordination/`) and infer responsibilities.
- Tools like `list_dir`, `grep`, and contextual analysis can be used to identify missing files, architectural inconsistencies, or unimplemented features.
- **Utility:** `supervisor_tools/check_project_structure.py` can automate checks for expected directories, files, and module task lists. See `TOOLS_GUIDE.md`.

#### 2. **Context-Aware Task Planning**
- Supervisors should be capable of generating intelligent, scoped task lists for any module or component (e.g., `task_list.md` in each directory).
- These lists may include testing coverage, code completeness audits, missing handler detection, or documentation improvements.
- Task lists must be structured in Markdown and follow system naming conventions.
- **Utility:** `supervisor_tools/generate_module_task_list_template.py` can create the standard boilerplate structure for a module's `task_list.md`. See `TOOLS_GUIDE.md`.
- **Utility:** `supervisor_tools/generate_task_list_from_code.py` can automatically generate initial task items by scanning source code for TODOs and stubs. See `TOOLS_GUIDE.md`.

#### 3. **Architectural Opportunity Detection**
- Supervisors are encouraged to propose file restructuring, deduplication, or consolidation (e.g., merging `_core/` with `core/` if redundant).
- Refactoring suggestions should include high-level justifications (e.g., resolving circular dependencies or simplifying import logic).

#### 4. **Autonomous Refinement & Feedback Loops**
- Supervisors should accept feedback (e.g., naming conventions, file scope adjustments) and immediately update outputs to match clarified directives.
- Iteration is expected. No task or analysis should remain stale or unaligned once clarification has been received.

#### 5. **Initiation of Missing Systems**
- If essential files, agents, tools, or documentation are missing (e.g., `AgentMonitorAgent`, `feedback_mailbox_writer`, `code_applicator.py`), supervisors must:
  - Identify them as blockers or architectural holes.
  - Create clear, complete task list entries for their implementation.
- **Utility:** `supervisor_tools/check_project_structure.py` helps identify missing critical files/agents. See `TOOLS_GUIDE.md`.
- **Utility:** `supervisor_tools/validate_agent_onboarding.py` checks consistency between discovered agents and onboarding documentation. See `TOOLS_GUIDE.md`.

#### 6. **System Bootstrap Capability**
- Supervisors may initiate activation cycles using message injection:
  ```bash
  python _agent_coordination/tools/send_mailbox_message.py \
    --recipient <AGENT_NAME> \
    --sender SystemOrchestrator \
    --payload-json "{\"command\": \"resume_operation\", \"reason\": \"Reactivation due to stall or missed trigger.\"}"
  ```
- This enables agents to recover from stalls or rejoin execution loops without needing user input.
- **Utility:** The command shown utilizes `tools/send_mailbox_message.py`. See `TOOLS_GUIDE.md`.

## 5. Project Health & Scanning Tools

Maintaining project health is crucial. Utilize the following tools, especially the `project_scanner`, for oversight and task generation.

### Project Scanner (`project_scanner`)

*   **Purpose:** Analyzes the codebase, identifies areas for improvement (complexity, TODOs), and extracts actionable tasks from comments.
*   **Location:** `_agent_coordination/supervisor_tools/project_scanner/` (Requires locating the specific runnable script within, e.g., `cli.py` or `main.py` - currently unresolved).
*   **Running:** (Once runnable script is found/fixed)
    ```bash
    # Example assuming runnable is project_scanner.cli
    python -m project_scanner.cli scan --project-root . [FLAGS]
    ```
*   **Common Flags:**
    *   `--summarize`: Console snapshot (complexity, TODO/FIXME samples).
    *   `--save-task-list`: **(Recommended)** Generates/updates `TASKS.md` in project root with all TODOs/FIXMEs.
    *   `--save-chatgpt-context`: Generates detailed `chatgpt_project_context.json`.
    *   `--ignore <path>`: Excludes paths (e.g., `.venv`).
*   **Workflow:** Run regularly with `--save-task-list`, review `TASKS.md`, use it to assign granular tasks to agents.
*   **Focus Areas:** Use scanner output to address TODOs/FIXMEs, reduce complexity, eliminate placeholders, and ensure professionalism.

*(Note: Refer to the `TOOLS_GUIDE.md` for details on other supervisor utilities like `check_project_structure.py`, `generate_task_list_from_code.py`, etc., mentioned under Advanced Capabilities.)*

--- 