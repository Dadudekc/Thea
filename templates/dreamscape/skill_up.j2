{# EDIT START - enhanced v3 #}
{#
Variables expected:
  player_name    : str  â€“ Name of the player.
  skill_name     : str  â€“ Name of the skill that leveled up.
  new_level      : int  â€“ New skill level achieved.
  old_level      : int  â€“ (optional) Previous skill level.
  skill_category : str  â€“ (optional) Skill type â€“ e.g., "Combat", "Crafting", "Social".
  xp_gained      : int  â€“ (optional) XP gained from this level-up.
  milestone      : bool â€“ (optional) Whether this is a milestone level (5, 10, 25, etc.).
#}

{% set old_level = old_level or (new_level - 1) %}
{% set xp_gained = xp_gained or (new_level * 10) %}
{% set milestone = milestone or (new_level % 5 == 0) %}

{% set category_emojis = {
  'Combat': 'âš”ï¸',
  'Crafting': 'ðŸ”¨',
  'Social': 'ðŸ’¬',
  'Magic': 'âœ¨',
  'Stealth': 'ðŸ‘¤',
  'Survival': 'ðŸŒ¿',
  'Technology': 'âš¡',
  'default': 'ðŸ“ˆ'
} %}
{% set emoji = category_emojis.get(skill_category, category_emojis.default) %}

{% if milestone %}
> ### ðŸŽ¯ **MILESTONE ACHIEVED!** {{ emoji }}
> **{{ player_name }}** has reached a significant milestone in **{{ skill_name }}**!
{% else %}
> ### ðŸ“ˆ **Skill Advancement** {{ emoji }}
> **{{ player_name }}** has improved their **{{ skill_name }}** proficiency!
{% endif %}

- **Skill:** {{ skill_name|title }}
- **Progress:** Level {{ old_level }} â†’ **Level {{ new_level }}**
- **XP Gained:** +{{ xp_gained }} experience
{% if skill_category %}
- **Category:** {{ skill_category|title }}
{% endif %}

{% if milestone %}
ðŸŽ‰ *This milestone unlocks new abilities and opportunities!*
{% else %}
ðŸ’ª *Every level brings you closer to mastery.*
{% endif %}
{# EDIT END #}
