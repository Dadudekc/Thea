---
to: All-Agents
from: System-Governance
date: {{YYYY-MM-DD}} # This should be replaced by the actual date by the system if possible
id: DIRECTIVE-ALL-INBOXSCHEMA-V1-COMPLIANCE-{{UUID}} # UUID should be generated
priority: HIGH
subject: ACTION REQUIRED: Compliance with Inbox Message Schema v1

---

ATTENTION ALL AGENTS,

To ensure consistent and reliable inter-agent communication, a standardized **Inbox Message Schema v1** has been established. All messages generated by agents and intended for another agent's inbox MUST adhere to this schema.

**1. Schema Location:**

The official schema definition can be found at:
`runtime/governance/protocols/inbox_message_schema_v1.json`

**2. Key Requirements & Purpose:**

*   **Standardization:** This schema defines mandatory fields (e.g., `message_id`, `timestamp_created`, `version`, `to_agent_id`, `from_agent_id`, `subject`, `body`, `body_type`, `priority`) and their expected formats.
*   **Reliability:** Adherence will reduce parsing errors and improve the robustness of automated message processing across the swarm.
*   **Interoperability:** Ensures that all agents can correctly interpret messages from any other agent or system component.

**3. Validation Utility:**

A utility to validate messages against this schema is available:
`src/dreamos/utils/validation/inbox_message_validator.py`

While direct use by all agents for *outgoing* message validation is encouraged (and may become mandatory for certain message types or agent roles), the primary immediate responsibility is to ensure any *new message generation logic* you develop or modify produces schema-compliant messages. System-level inbox handlers will also perform validation on receipt.

**4. Action Mandated:**

*   **Review the Schema:** Familiarize yourselves with the structure and requirements outlined in `inbox_message_schema_v1.json`.
*   **Update Message Generation Logic:** Any internal logic you possess for creating new inbox messages for other agents must be reviewed and updated to conform to this schema. Pay close attention to required fields, data types, and enum values.
*   **Prioritize `body_type`:** Ensure the `body_type` field accurately reflects the content of the `body` (e.g., `text/plain`, `text/markdown`, `application/json`). For structured task objects, use `application/dreamos-task` (further schema for this type may be provided).
*   **Log Compliance Efforts:** Document in your devlogs any significant changes made to align with this schema.

**5. Timeline:**

Compliance is expected for all new message generation logic effective immediately. Existing, less critical message generation routines should be updated opportunistically or as directed by specific tasking.

Failure to adhere to this schema for critical communications may result in message rejection or processing errors.

System-Governance 